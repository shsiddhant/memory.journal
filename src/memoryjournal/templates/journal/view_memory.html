<!doctype html>
{% extends "journal/index.html" %}
{% block title %}{{ memory['title'] }} - {{ super() }}{% endblock %}
{% block quote %}
<i>
  "This is it, Joel. It's going to be gone soon."<br>
  "I know."<br>
  "What do we do?"<br>
  "Enjoy it."<br>
</i>
{% endblock %}
{% block content %}
<header class="d-flex flex-wrap justify-content-center pb-3 mb-4 border-bottom border-2 bg-white">
	<a class="fs-4 d-flex align-items-center mb-3 mb-md-0 me-md-auto fw-bold text-dark text-decoration-none"
		href="{{ url_for('journal.index') }}">
		<span>{{ g.journal["journalname"] }}</span>
	</a>
	<ul class="nav mb-auto">
		<li class="nav-item">
			<a class="nav-link link-dark" href="{{ url_for('journal.index') }}">
				<i class="material-icons d-inline-block align-text-bottom">dashboard</i> Overview
			</a>
		</li>
		<li class="nav-item">
			<a class="nav-link link-dark" href="{{ url_for('journal.list_memories') }}">
				<i class="material-icons d-inline-block align-text-bottom">view_timeline</i> Timeline
			</a>
		</li>
		<li class="nav-item">
			<a class="nav-link link-dark" href="{{ url_for('journal.edit_memory', id=memory['id']) }}">
				<i class="material-icons d-inline-block align-text-bottom">edit_square</i> Edit Memory
			</a>
		</li>
  </ul>
</header>
<div class="fs-4 fw-bold mb-3">{{ memory["memorydate"].strftime('%a, %d %B %Y') }} - {{ memory["title"] }}</div>
<div class="me-5 my-4 p-4 bg-light markdown">
  {{ description | safe}}
</div>
  <b>tags:</b> {{ tags }}
</div>
  <br>
  <br>
<!-- Delete Memory -->
<form action="{{ url_for('journal.delete_memory', id=memory['id']) }}" method="post">
	<button class="btn " type="button" data-bs-toggle="modal" data-bs-target="#deleteConfirmation" style="background-color:#B40B08;">
	<div class="d-inline-block text-white">
		<i class="material-icons d-inline-block align-text-bottom" style="color:white;">delete</i> 
		<span> Delete Memory</span>
	</button>
	<div class="modal fade" id="deleteConfirmation" tabindex="-1" aria-label="confirm" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="confirm">Confirm delete</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					{% if error %}
					<div class="alert alert-danger">{{ error }}</div>
					{% else %}
						<p>
							Are you sure you want to delete the memory? This deletion cannot be reverted.
						</p>
					{% endif %}
				<div class="modal-footer">
  				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
  				<button type="submit" class="btn btn-danger" style="background-color:#B40B08;">Delete</button>
  			</div>
			</div>
		</div>
	</div>
	<input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
</form>
{% endblock %}
